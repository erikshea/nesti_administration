RewriteEngine on
RewriteCond %{REQUEST_URI} !^public/
RewriteRule (.*) public/index.php?route=$1 [L,NC,QSA]